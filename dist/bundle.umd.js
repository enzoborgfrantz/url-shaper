!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.urlShaper=t()}(this,function(){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t=(function(){function n(n){this.value=n}function t(t){function e(o,u){try{var i=t[o](u),f=i.value;f instanceof n?Promise.resolve(f.value).then(function(n){e("next",n)},function(n){e("throw",n)}):r(i.done?"return":"normal",i.value)}catch(n){r("throw",n)}}function r(n,t){switch(n){case"return":o.resolve({value:t,done:!0});break;case"throw":o.reject(t);break;default:o.resolve({value:t,done:!1})}(o=o.next)?e(o.key,o.arg):u=null}var o,u;this._invoke=function(n,t){return new Promise(function(r,i){var f={key:n,arg:t,resolve:r,reject:i,next:null};u?u=u.next=f:(o=u=f,e(n,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(n){return this._invoke("next",n)},t.prototype.throw=function(n){return this._invoke("throw",n)},t.prototype.return=function(n){return this._invoke("return",n)}}(),function(){function n(n,t){var e=[],r=!0,o=!1,u=void 0;try{for(var i,f=n[Symbol.iterator]();!(r=(i=f.next()).done)&&(e.push(i.value),!t||e.length!==t);r=!0);}catch(n){o=!0,u=n}finally{try{!r&&f.return&&f.return()}finally{if(o)throw u}}return e}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()),e=function(n){return"string"==typeof n},r=function(n){return!!n&&e(n)},o=function(n){return"/"===n[n.length-1]?n:n+"/"},u=function(t){return!!t&&!Array.isArray(t)&&"object"===(void 0===t?"undefined":n(t))},i=function(n){return u(n)&&!!Object.keys(n).length},f=function(n){return Object.keys(n).map(function(t){return[t,n[t]]})},c=function(n){return[null,void 0,"null","undefined"].includes(n)},l=function(n){return!n.some(c)},a=function(n){var e=t(n,2);return e[0]+"="+e[1]},y=function(n){return"?"+f(n).filter(l).map(a).join("&")};return function(n,t){return""+(r(n)?o(n):"")+(i(t)?y(t):"")}});
