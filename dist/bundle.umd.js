!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.urlShaper=t()}(this,function(){"use strict";!function(){function n(n){this.value=n}function t(t){function e(o,u){try{var i=t[o](u),c=i.value;c instanceof n?Promise.resolve(c.value).then(function(n){e("next",n)},function(n){e("throw",n)}):r(i.done?"return":"normal",i.value)}catch(n){r("throw",n)}}function r(n,t){switch(n){case"return":o.resolve({value:t,done:!0});break;case"throw":o.reject(t);break;default:o.resolve({value:t,done:!1})}(o=o.next)?e(o.key,o.arg):u=null}var o,u;this._invoke=function(n,t){return new Promise(function(r,i){var c={key:n,arg:t,resolve:r,reject:i,next:null};u?u=u.next=c:(o=u=c,e(n,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(n){return this._invoke("next",n)},t.prototype.throw=function(n){return this._invoke("throw",n)},t.prototype.return=function(n){return this._invoke("return",n)}}();var n=function(){function n(n,t){var e=[],r=!0,o=!1,u=void 0;try{for(var i,c=n[Symbol.iterator]();!(r=(i=c.next()).done)&&(e.push(i.value),!t||e.length!==t);r=!0);}catch(n){o=!0,u=n}finally{try{!r&&c.return&&c.return()}finally{if(o)throw u}}return e}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),t=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n[n.length-1]},e=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"/"===t(n)?n:n+"/"},r=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).every(function(n){return![null,void 0,"null","undefined"].includes(n)})},o=function(t){var e=n(t,2);return e[0]+"="+e[1]},u=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(n).map(function(t){return[t,n[t]]})},i=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"?"+u(n).filter(r).map(o).join("&")};return function(n,t){return""+e(n)+i(t)}});
